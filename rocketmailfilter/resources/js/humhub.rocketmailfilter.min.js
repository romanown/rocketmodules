humhub.module("rocketmailfilter.unread",function(t,e,i){var n=t.require("ui.widget").Widget,e=e("ui.filter").Filter.extend();e.prototype.init=function(){this.cosmeticCheckbox=this.$.find("#rocketmailfilter-unread-toggle"),this.hiddenInput=this.$.find("[name=unread]"),this.inputContainer=this.cosmeticCheckbox.closest("#rocketmailfilter-root"),this.mailFilterForm=n.instance("#mail-filter-root").$.find("form"),this.placeUnreadCheckbox(),this.attachListeners()},e.prototype.placeUnreadCheckbox=function(){this.mailFilterForm.prepend(this.$.detach()),this.$.removeClass("hidden")},e.prototype.attachListeners=function(){var t=this;this.cosmeticCheckbox.on("change",function(){t.toggleInputValue(),t.isChecked()?t.activateHiddenInput():t.deactivateHiddenInput(),n.instance("#mail-filter-root").triggerChange()})},e.prototype.toggleInputValue=function(){this.hiddenInput.val(this.isChecked()?"1":"0")},e.prototype.isChecked=function(){return this.cosmeticCheckbox.prop("checked")},e.prototype.activateHiddenInput=function(){this.inputContainer.prepend(this.hiddenInput)},e.prototype.deactivateHiddenInput=function(){this.hiddenInput.remove()},t.export=e});